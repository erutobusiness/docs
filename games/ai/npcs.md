# ランタイムAIとNPC (Runtime Intelligence)

ゲームプレイ中（ランタイム）に動作するAI技術。

## クラウドベースAI (Cloud-based)

高度な推理能力を持つLLMをクラウド経由で利用する。

- **Inworld AI**:
  - **Character Brain**: 「知識・動機・性格」を設定可能
    - Wikipediaリンクで知識注入も
  - **感情エンジン**: 会話内容に応じて喜び・怒り等のパラメータが変動し、表情・声色に反映
  - **Unreal MetaHuman統合**: 写実的な対話体験
- **Convai**:
  - **シーン認識**: 視界内の「赤い銃」などを認識し、「拾う」などのアクションを実行可能
  - **低遅延**: FPSなどの戦術的な指示に特化

### 比較 (2026年版)

|項目|Inworld AI|Convai|
|:-|:-|:-|
|**強み**|ナラティブ、感情、キャラの深み|アクション、環境認識、低遅延|
|**用途**|RPG、アドベンチャー|FPS、戦術シミュレーション|
|**コスト**|文字数/分 (従量)|サブスク + 従量|

## ローカルAI (On-device / Local)

推論コストとレイテンシを抑えるため、端末上で軽量モデルを動かす。

- **Unity Sentis**:
  - Unityエンジン内でONNX形式のニューラルネットワークを推論実行
  - オフラインでも動作可能
  - **ローカルLLM**: Llama-3-8B等を量子化して搭載、オフライン会話NPC
  - **強化学習**: Unity ML-Agentsで学習した高度な敵AIの推論

## 活用事例

- **ダイナミックNPC**: 定型文ではなく、状況に応じた会話をする村人
- **ゲームマスターAI**: プレイヤーの腕前に合わせて敵の配置や難易度をリアルタイムに調整
- **自然言語入力**: キーボードや音声入力で魔法を唱えたり、指示を出したりするインターフェース
- **Charisma.ai**:
  - インタラクティブストーリーテリング、記憶、感情、分岐ストーリー追跡に強み
- **NVIDIA ACE**:
  - インフラ層、Riva(音声認識)、Audio2Face(表情生成)、NeMo(対話)を提供

## 実装のベストプラクティス

- **ハイブリッド構成**: ビヘイビアツリー(行動制御) + LLM(対話・判断)
- **ナレッジベース**: カスタム知識を注入しハルシネーションを抑制
- **コスト最適化**: テンプレート応答とLLM生成の使い分け、モデル蒸留

### 経済的側面 (コスト試算)

例: DAU 1万人、1人5分会話の場合 = 50,000分/日。
Inworld ($0.005/分) 換算で **月額 $7,500** 規模になる可能性。
→ **「重要な会話はInworld」「雑談はSentis(ローカル)」のハイブリッド構成が必須**。

## 出典

- [2026年版 AI駆動型3Dゲーム開発エコシステム](./AI活用3Dゲーム開発手法調査.md) (詳細な調査レポート)
- [AIで3Dゲームを作る：2025年最新ツール完全ガイド](../compass_artifact_wf-4249750f-4be8-4150-a659-50fe4da38e10_text_markdown.md)
