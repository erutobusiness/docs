---
title: Webフロントエンドにおけるスクロールについてまとめたい
tags:
  - CSS
  - JavaScript
  - Web
  - スクロール
  - フロントエンド
private: true
updated_at: '2024-07-25T11:17:49+09:00'
id: 10b0e0ee771054025fb5
organization_url_name: null
slide: false
ignorePublish: false
---

Webページを閲覧する上で、スクロールはもはや欠かせない要素である。
指先のスワイプ一つ、マウスホイールを回すだけで、私たちは広大な情報の世界を縦横無尽に旅することができる。
しかし、その裏側には、高度なフロントエンド技術とエンジニアの工夫が凝縮されている。

また、スクロールは単なる操作方法から、Webデザインにおける表現手段へと進化を遂げている。
滑らかなアニメーション、インタラクティブな要素、そして無限に広がるコンテンツ……。
これらは全て、スクロールを軸に生み出される新しいユーザー体験である。

本記事では、Webフロントエンドにおけるスクロールの重要性と、その可能性について深く掘り下げる。
スクロールがもたらすUXの向上、デザイン表現の幅広さ、そして最新の技術トレンドまで、余すところなく解説することを目的にする。

![Gemini_Generated_Image_jk4q7pjk4q7pjk4q.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3534741/19b490fb-4a93-859f-cbe7-33b29d590506.jpeg)

Geminiが生成したスクロールの画像


# スクロールの基本

スクロールについて具体的に知る前に、前提となる知識を身に着ける必要がある。
本章では、スクロールについて抽象的に学ぶために、語釈から役割、歴史、仕組みを学ぶ。



## スクロールとは

語釈について知る意味

### コトバンク

言葉を調べるとき、コトバンクにはいろいろと語釈があるので参考になる。

https://kotobank.jp/word/%E3%82%B9%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%AB-4875

一番しっくりくるのはASCII.jpデジタル用語辞典だった。

https://yougo.ascii.jp/caltar/%E3%82%B9%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%AB

> すくろーる 【スクロール】 Scroll
>
> ウィンドウ内に収まらずに表示されていない内容を見るために、ウィンドウの中を上下または左右に少しずつ移動させて、隠れている部分を表示させること。
> 本来は「巻物」という意味。
> ウィンドウシステムでは、ウィンドウ内に表示しきれない場合に、スクロールバーがウィンドウの右側や下側に現れる。
> スクロールバーにある「スライダー」というつまみをドラッグしたり、端にある矢印のボタンをクリックすることで、画面の表示位置を動かせる。
> この矢印のボタンは、スクロールアローまたはスクロールボタンと呼ぶ。
> また、カーソルキーやマウスのホイールボタンでも画面をスクロールできる。

### Wikipedia にはウェブブラウザについても言及もある

https://ja.wikipedia.org/wiki/%E3%82%B9%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%AB

> ウェブブラウザは通常、ウィンドウの幅が許す限り多くの単語を一行に表示する。特別なHTMLコードでブラウザにウィンドウを複数のカラムに分割することができ、その場合はそれぞれのカラムの幅が許す限り多くの単語を一行に表示しようとする。

### perplexityにも聞いた

> Webフロントエンドにおけるスクロールは、ウェブページ上でコンテンツを上下左右に移動させる基本的な操作のことを指します。以下にスクロールの主な特徴と実装方法をまとめます：
> 
> 1. 基本機能：
> ユーザーがページの表示範囲を超えるコンテンツを閲覧できるようにする重要な機能です。
> 2. ネイティブ挙動：
> スマートフォンなどのデバイスでは、ページの上下端にぶつかったときに画面がバウンスする挙動があります。
> 3. 無限スクロール：
> Google画像検索などで見られる、ページ下部に到達すると自動的に新しいコンテンツが読み込まれる機能です。
> 4. スクロールアニメーション：
> スクロールに連動してHTML要素がアニメーションする効果を実現できます。
> 5. スクロールヒント：
> コンテンツがスクロール可能な場合に、ユーザーに視覚的なヒントを提供するライブラリ（例：ScrollHint）があります。
> 6. パフォーマンス最適化：
> 大量のデータを扱う場合、バックグラウンド通信と分割ダウンロードを組み合わせることで、スムーズなスクロール体験を実現できます。
> 7. カスタマイズ：
> CSSやJavaScriptを使用して、スクロールバーの外観やスクロール挙動をカスタマイズすることが可能です。
> 8. レスポンシブデザイン対応：
> デバイスの画面サイズに応じて、スクロール可能な領域を適切に設定する必要があります。
> 
> Webフロントエンド開発では、これらの要素を考慮しながら、ユーザーにとって使いやすく、スムーズなスクロール体験を提供することが重要です。

https://www.perplexity.ai/search/sukuroru-UNbhGI4eTk2v1F_1KQudEQ#1


### 私がまとめると

要約すると、隠れている部分を表示させるために、上下左右に画面を移動すること。
また、WEBではウィンドウだけでなく、`<div>`などの一部のHTML要素でもスクロールできる。

https://developer.mozilla.org/ja/docs/Web/HTML/Element/div



## スクロール可能な要素の条件

カスタム要素も含めて、要素にはスクロールできるものとできないものがある。
スクロール可能な要素の特徴を把握することで、その条件を理解する。


### コンテンツがオーバーフローしている

テキストや画像など、要素内に配置されるコンテンツのサイズが、要素の高さや幅を超えることを**オーバーフロー**と呼ぶ。

https://developer.mozilla.org/ja/docs/Learn/CSS/Building_blocks/Overflowing_content

なお、レイアウトに影響を与えないインクオーバーフローではスクロールに影響しない。

https://developer.mozilla.org/ja/docs/Web/CSS/CSS_overflow


### ブロックレベルの表示である

オーバーフローするには、要素に高さや幅を指定する必要がある。
要素には、ブロックとインラインの2つのレベルがある。

ブロックレベル要素は、デフォルトで新しい行から始まり、コンテンツの幅全体を占有する。
インラインレベル要素は、コンテンツのサイズに合わせて表示され、他の要素と同一行に配置される。

https://developer.mozilla.org/ja/docs/Glossary/Block-level_content

コンテンツのサイズに合わせて表示されるインラインレベル要素では、オーバーフローすることがない。
そのため、オーバーフローできるようにするためには、ブロックレベル要素である必要がある。


### `overflow`プロパティが`scroll`または`auto`に設定されている

`overflow`プロパティは、要素のコンテンツが要素の表示領域を超えた場合の表示方法を指定する。
`scroll`は常にスクロールバーを表示し、`auto`はコンテンツが要素の表示領域を超えた場合のみスクロールバーを表示します。

https://developer.mozilla.org/ja/docs/Web/CSS/overflow

なお、`<body>`要素（`<html>`要素、ルート要素）も他要素と同じようにデフォルト値は`visible`である。
しかし、ふるまいとしては`auto`と同様に、コンテンツが表示領域を超えるとスクロールできるようになる。


---

以上から、通常はインライン要素である`span`タグにおいても、ブロックレベル要素にするなどスタイルを調整することで、スクロール可能な要素にすることができる。

```html:scrollable-span.html
<span style="display:block; max-height: 60px; overflow: auto; font-size: 80px;">
  スクロール可能なspan
</span>
```

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3534741/967d1633-072d-d72d-568c-f143ee89747b.png)





## フロントエンドにおけるスクロールの役割と重要性

### コンテンツの閲覧

Webページは基本的に上から下に読む。
スクロールは、表示領域より大きいコンテンツを持つページにおいて、ページ遷移や画面切替なしにコンテンツを閲覧しきるために必要な機能である。

### インタラクション


### 固定との併用

### 動的な読込開始





## スクロールの歴史

コンピューターインターフェースにおけるスクロールの進化
ビルボードスクロール？





## スクロールの仕組み

ブラウザのレンダリングプロセス



## スクロール関連用語



## スクロールの種類

### 垂直スクロール
### 水平スクロール





---



# CSSでのスクロール制御

？CSSとは

- overflow
- scroll-behavior
- overscroll-behavior

## scroll-snap
- scroll-snap-type

## scroll-timeline
- scroll-timeline
- scroll-timeline-axis

## CSS関数

scroll-padding, scroll-margin などのCSS関数や、env() 関数

CSS Transitions, CSS Animations

---



# JavaScriptでのスクロール制御

？JavaScriptとは

？通常のJavaScriptの扱いと、スクロールにおけるJavaScriptの扱いとの違い

## スクロール関連メソッド

### scrollTo
### scrollBy
### scrollIntoView


## スクロール関連イベントの種類

### イベントとは
### scroll
### wheel
### touchmove
### focus
### keydown
- space
- PageUp/PageDown
- Home/End
- Up/Down/Left/Right



---

# 端末やブラウザなど、環境間の違い

## 【定番】イベントの違い
モバイル環境とPC環境における`touch` `mouse`まわりの話
タッチ可能なPCにおいてはどうかって話


## `<body>`と`<html>`に対する`overflow`設定
主にモバイル環境では`overflow: hidden`としても動作しない場合がある。
その場合は`<div>`などで適用したい範囲を囲い、その要素に当該スタイルを設定する必要がある。

:::note warn
要参考記事
:::


## 縦のマイナススクロール
`display: flex; flex-direction:column-reverse;`
一部のモバイル環境では縦のマイナス方向にスクロールできない場合がある。

:::note warn
要実機確認
:::


## モバイル特有のスクロール挙動



## プルトゥリフレッシュ
プルトゥリフレッシュ、暴発することの方が多いから、無効にしがち


---



# アクセシビリティ

？とは


## キーボードナビゲーション

？キーボードナビゲーションとは


## スクリーンリーダー

？スクリーンリーダーとは


## フォーカス

？フォーカスとは



---



# スムーススクロール

？なぜ重要か
- 連続的に見せたい
    - シーンのつながり


---



# パフォーマンス

？パフォーマンスとは

## パフォーマンス向上

debounce
throttle
requestAnimationFrame
プログレッシブローディング

## パフォーマンス計測

Lighthouse
DevTools

## バッテリー消費

## データ転送量



---



# セキュリティー・プライバシー

## スクロール追跡



---



# テスト

俺はテストをしたことがない


---



# 応用・テクニック

？なぜ応用するか
？応用される方向性ってどんな感じ

## 無限スクロール
Google検索で廃止されるらしい。

https://gigazine.net/news/20240626-google-stop-infinite-scroll-search-results/

## 仮想スクロール
- 大量データのレンダリングを効率化する技術



## パララックススクロール
- スクロールとともに背景が動く
- いい感じのHPでよくみるやつ

## スクロールハイジャック（スクロールジャッキング）
- スクロールのデフォルト動作を制御して、
- 例１回のスクロールで画面全体の表示が切り替わる
- 嫌われやすい理由

https://www.nngroup.com/articles/scrolljacking-101/

## スティッキー
position: sctickyを使ったテクニック

---



# 関連オブザーバー

## Observerとは

## Intersection Observer

## Mutation Observer

## Resize Observer


---



# 関連ライブラリ

## JavaScript

### GSAP



## React
Reactとは

### react-scroll



---

# 事例

Appleのサイトとか

失敗事例



---

# 書いていて思ったこと

- body要素とhtml要素って、なんでcssで一緒に設定することがあるんだっけ？
    - ブラウザによってはhtml要素に設定する必要があったりするからかな
- 


---

# 論文

「スクロール 論文」で検索するだけでいっぱい出てくる

## スクロール提示された文章の読み特性
https://www.jstage.jst.go.jp/article/jjpsy/81/4/81_4_388/_article/-char/ja

## 縦スクロール表示された文章の快適な読み速度と眼球運動
https://cir.nii.ac.jp/crid/1050282677610496256

## 小型電子端末を用いた読書時の眼球運動と頭部運動の解析
https://www.u-tokai.ac.jp/uploads/sites/12/2021/03/No.2_2012_PP23-28.pdf

## スクロール文字の移動速度がユーザの理解に及ぼす影響
https://www.jstage.jst.go.jp/article/fss/28/0/28_655/_pdf/-char/ja

